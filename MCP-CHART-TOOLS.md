# ğŸ“Š MCP Chart Render å›¾è¡¨å·¥å…·è¯¦ç»†è¯´æ˜

## ğŸ› ï¸ å¯ç”¨å·¥å…·åˆ—è¡¨

### 1. ğŸ“ˆ `render_line_chart` - æŠ˜çº¿å›¾

**ç”¨é€”**: æ˜¾ç¤ºæ•°æ®éšæ—¶é—´å˜åŒ–çš„è¶‹åŠ¿

**å‚æ•°**:
- `data` (å¿…éœ€): æ•°æ®æ•°ç»„
  - `time`: æ—¶é—´ç‚¹ï¼ˆå­—ç¬¦ä¸²æˆ–æ•°å­—ï¼‰
  - `value`: å¯¹åº”çš„æ•°å€¼
- `title` (å¯é€‰): å›¾è¡¨æ ‡é¢˜
- `axisXTitle` (å¯é€‰): Xè½´æ ‡é¢˜  
- `axisYTitle` (å¯é€‰): Yè½´æ ‡é¢˜

**ç¤ºä¾‹**:
```json
{
  "data": [
    { "time": 2018, "value": 91.9 },
    { "time": 2019, "value": 99.1 },
    { "time": 2020, "value": 101.6 },
    { "time": 2021, "value": 114.4 },
    { "time": 2022, "value": 121 }
  ],
  "title": "å¹´é”€å”®é¢è¶‹åŠ¿",
  "axisXTitle": "å¹´ä»½",
  "axisYTitle": "é”€å”®é¢ï¼ˆäº¿å…ƒï¼‰"
}
```

---

### 2. ğŸ“Š `render_column_chart` - æŸ±çŠ¶å›¾

**ç”¨é€”**: æ¯”è¾ƒä¸åŒç±»åˆ«çš„æ•°å€¼

**å‚æ•°**:
- `data` (å¿…éœ€): æ•°æ®æ•°ç»„
  - `category`: ç±»åˆ«åç§°
  - `value`: å¯¹åº”çš„æ•°å€¼
  - `group` (å¯é€‰): åˆ†ç»„åç§°ï¼ˆç”¨äºåˆ†ç»„æˆ–å †å å›¾ï¼‰
- `group` (å¯é€‰): æ˜¯å¦å¯ç”¨åˆ†ç»„æ˜¾ç¤º
- `stack` (å¯é€‰): æ˜¯å¦å¯ç”¨å †å æ˜¾ç¤º
- `title` (å¯é€‰): å›¾è¡¨æ ‡é¢˜
- `axisXTitle` (å¯é€‰): Xè½´æ ‡é¢˜
- `axisYTitle` (å¯é€‰): Yè½´æ ‡é¢˜

**åŸºç¡€æŸ±çŠ¶å›¾ç¤ºä¾‹**:
```json
{
  "data": [
    { "category": "2015å¹´", "value": 80 },
    { "category": "2016å¹´", "value": 140 },
    { "category": "2017å¹´", "value": 220 }
  ],
  "title": "å¹´åº¦æ”¶å…¥",
  "axisXTitle": "å¹´ä»½",
  "axisYTitle": "é‡‘é¢ï¼ˆç™¾ä¸‡å…ƒï¼‰"
}
```

**åˆ†ç»„æŸ±çŠ¶å›¾ç¤ºä¾‹**:
```json
{
  "data": [
    { "category": "åŒ—äº¬", "value": 825.6, "group": "æ²¹è½¦" },
    { "category": "åŒ—äº¬", "value": 60.2, "group": "æ–°èƒ½æºè½¦" },
    { "category": "ä¸Šæµ·", "value": 450, "group": "æ²¹è½¦" },
    { "category": "ä¸Šæµ·", "value": 95, "group": "æ–°èƒ½æºè½¦" }
  ],
  "group": true,
  "title": "åŸå¸‚æ±½è½¦é”€é‡å¯¹æ¯”",
  "axisXTitle": "åŸå¸‚",
  "axisYTitle": "é”€é‡ï¼ˆä¸‡è¾†ï¼‰"
}
```

---

### 3. ğŸ“‹ `render_bar_chart` - æ¡å½¢å›¾

**ç”¨é€”**: æ°´å¹³æ–¹å‘çš„æŸ±çŠ¶å›¾ï¼Œé€‚åˆç±»åˆ«åç§°è¾ƒé•¿çš„åœºæ™¯

**å‚æ•°**: ä¸æŸ±çŠ¶å›¾ç›¸åŒ

**ç¤ºä¾‹**:
```json
{
  "data": [
    { "category": "äº§å“ç»ç†", "value": 85000 },
    { "category": "è½¯ä»¶å·¥ç¨‹å¸ˆ", "value": 95000 },
    { "category": "æ•°æ®åˆ†æå¸ˆ", "value": 75000 }
  ],
  "title": "èŒä½å¹³å‡è–ªèµ„",
  "axisXTitle": "è–ªèµ„ï¼ˆå…ƒï¼‰",
  "axisYTitle": "èŒä½"
}
```

---

### 4. ğŸ¥§ `render_pie_chart` - é¥¼å›¾

**ç”¨é€”**: æ˜¾ç¤ºå„éƒ¨åˆ†å æ•´ä½“çš„æ¯”ä¾‹

**å‚æ•°**:
- `data` (å¿…éœ€): æ•°æ®æ•°ç»„
  - `category`: ç±»åˆ«åç§°
  - `value`: å¯¹åº”çš„æ•°å€¼ï¼ˆä¸æ”¯æŒç™¾åˆ†æ¯”ï¼‰
- `innerRadius` (å¯é€‰): å†…åŠå¾„ï¼Œè®¾ç½®ä¸º0.6å¯åˆ¶ä½œç¯å›¾
- `title` (å¯é€‰): å›¾è¡¨æ ‡é¢˜

**é¥¼å›¾ç¤ºä¾‹**:
```json
{
  "data": [
    { "category": "ç§»åŠ¨ç«¯", "value": 450 },
    { "category": "æ¡Œé¢ç«¯", "value": 320 },
    { "category": "å¹³æ¿ç«¯", "value": 180 }
  ],
  "title": "ç”¨æˆ·è®¾å¤‡åˆ†å¸ƒ"
}
```

**ç¯å›¾ç¤ºä¾‹**:
```json
{
  "data": [
    { "category": "åŸé•‡äººå£", "value": 63.89 },
    { "category": "ä¹¡æ‘äººå£", "value": 36.11 }
  ],
  "innerRadius": 0.6,
  "title": "å…¨å›½äººå£å±…ä½å¯¹æ¯”"
}
```

---

### 5. ğŸ“‰ `render_area_chart` - é¢ç§¯å›¾

**ç”¨é€”**: æ˜¾ç¤ºæ•°æ®éšæ—¶é—´å˜åŒ–çš„è¶‹åŠ¿å’Œæ€»é‡

**å‚æ•°**:
- `data` (å¿…éœ€): æ•°æ®æ•°ç»„
  - `time`: æ—¶é—´ç‚¹
  - `value`: å¯¹åº”çš„æ•°å€¼
  - `group` (å¯é€‰): åˆ†ç»„åç§°ï¼ˆç”¨äºå †å é¢ç§¯å›¾ï¼‰
- `stack` (å¯é€‰): æ˜¯å¦å¯ç”¨å †å æ˜¾ç¤º
- `title` (å¯é€‰): å›¾è¡¨æ ‡é¢˜
- `axisXTitle` (å¯é€‰): Xè½´æ ‡é¢˜
- `axisYTitle` (å¯é€‰): Yè½´æ ‡é¢˜

**åŸºç¡€é¢ç§¯å›¾ç¤ºä¾‹**:
```json
{
  "data": [
    { "time": "1æœˆ", "value": 23.895 },
    { "time": "2æœˆ", "value": 23.695 },
    { "time": "3æœˆ", "value": 23.655 }
  ],
  "title": "è‚¡ç¥¨ä»·æ ¼å˜åŒ–",
  "axisXTitle": "æœˆä»½",
  "axisYTitle": "ä»·æ ¼"
}
```

**å †å é¢ç§¯å›¾ç¤ºä¾‹**:
```json
{
  "data": [
    { "time": "2019å¹´", "value": 150, "group": "åŒ—äº¬" },
    { "time": "2020å¹´", "value": 160, "group": "åŒ—äº¬" },
    { "time": "2019å¹´", "value": 100, "group": "ä¸Šæµ·" },
    { "time": "2020å¹´", "value": 110, "group": "ä¸Šæµ·" }
  ],
  "stack": true,
  "title": "åŸå¸‚æ•°æ®å¯¹æ¯”",
  "axisXTitle": "å¹´ä»½",
  "axisYTitle": "æ•°å€¼"
}
```

---

### 6. ğŸ“ `render_scatter_chart` - æ•£ç‚¹å›¾

**ç”¨é€”**: æ˜¾ç¤ºä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»

**å‚æ•°**:
- `data` (å¿…éœ€): æ•°æ®æ•°ç»„
  - `x`: Xè½´æ•°å€¼
  - `y`: Yè½´æ•°å€¼
- `title` (å¯é€‰): å›¾è¡¨æ ‡é¢˜
- `axisXTitle` (å¯é€‰): Xè½´æ ‡é¢˜
- `axisYTitle` (å¯é€‰): Yè½´æ ‡é¢˜

**ç¤ºä¾‹**:
```json
{
  "data": [
    { "x": 25, "y": 5000 },
    { "x": 35, "y": 7000 },
    { "x": 45, "y": 10000 }
  ],
  "title": "å¹´é¾„ä¸æ”¶å…¥å…³ç³»",
  "axisXTitle": "å¹´é¾„",
  "axisYTitle": "æ”¶å…¥"
}
```

---

### 7. âš–ï¸ `render_dual_axes_chart` - åŒè½´å›¾

**ç”¨é€”**: æ˜¾ç¤ºä¸¤ä¸ªä¸åŒå•ä½æˆ–é‡çº§çš„æ•°æ®ç³»åˆ—

**å‚æ•°**:
- `categories` (å¿…éœ€): Xè½´åˆ†ç±»æ•°ç»„
- `series` (å¿…éœ€): æ•°æ®ç³»åˆ—æ•°ç»„ï¼Œæœ€å¤šæ”¯æŒ2ä¸ªç³»åˆ—
  - `type`: å›¾è¡¨ç±»å‹ï¼ˆ'line' æˆ– 'column'ï¼‰
  - `data`: æ•°æ®æ•°ç»„
  - `axisYTitle` (å¯é€‰): Yè½´æ ‡é¢˜
- `title` (å¯é€‰): å›¾è¡¨æ ‡é¢˜
- `axisXTitle` (å¯é€‰): Xè½´æ ‡é¢˜

**ç¤ºä¾‹**:
```json
{
  "categories": ["2018", "2019", "2020", "2021", "2022"],
  "series": [
    {
      "type": "column",
      "data": [91.9, 99.1, 101.6, 114.4, 121],
      "axisYTitle": "é”€å”®é¢ï¼ˆäº¿å…ƒï¼‰"
    },
    {
      "type": "line", 
      "data": [5.5, 6.0, 6.2, 7.0, 7.5],
      "axisYTitle": "åˆ©æ¶¦ç‡ï¼ˆ%ï¼‰"
    }
  ],
  "title": "é”€å”®é¢ä¸åˆ©æ¶¦ç‡",
  "axisXTitle": "å¹´ä»½"
}
```

---

### 8. ğŸ“Š `render_histogram_chart` - ç›´æ–¹å›¾

**ç”¨é€”**: æ˜¾ç¤ºæ•°æ®çš„åˆ†å¸ƒæƒ…å†µ

**å‚æ•°**:
- `data` (å¿…éœ€): æ•°æ®æ•°ç»„
  - `value`: æ•°å€¼
- `binNumber` (å¯é€‰): åˆ†ç®±æ•°é‡ï¼Œé»˜è®¤ä¸º10
- `title` (å¯é€‰): å›¾è¡¨æ ‡é¢˜

**ç¤ºä¾‹**:
```json
{
  "data": [
    { "value": 78 },
    { "value": 88 },
    { "value": 60 },
    { "value": 100 },
    { "value": 95 }
  ],
  "binNumber": 5,
  "title": "è€ƒè¯•æˆç»©åˆ†å¸ƒ"
}
```

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. è¿æ¥MCPæœåŠ¡å™¨
```bash
# å»ºç«‹SSEè¿æ¥
curl -N http://localhost:3001/sse
```

### 2. åˆå§‹åŒ–è¿æ¥
```bash
curl -X POST "http://localhost:3001/messages?sessionId={sessionId}" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{"protocolVersion":"2024-11-05","capabilities":{"tools":{},"resources":{}},"clientInfo":{"name":"client","version":"1.0.0"}}}'
```

### 3. è·å–å·¥å…·åˆ—è¡¨
```bash
curl -X POST "http://localhost:3001/messages?sessionId={sessionId}" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":2,"method":"tools/list"}'
```

### 4. è°ƒç”¨å›¾è¡¨å·¥å…·
```bash
curl -X POST "http://localhost:3001/messages?sessionId={sessionId}" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":3,"method":"tools/call","params":{"name":"render_line_chart","arguments":{"data":[{"time":2023,"value":100}],"title":"æµ‹è¯•æŠ˜çº¿å›¾"}}}'
```

---

## ğŸ“ èµ„æºè®¿é—®

ç”Ÿæˆçš„å›¾è¡¨å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®ï¼š

### 1. åˆ—å‡ºæ‰€æœ‰å›¾ç‰‡
```bash
curl -X POST "http://localhost:3001/messages?sessionId={sessionId}" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":4,"method":"resources/list"}'
```

### 2. è¯»å–å›¾ç‰‡å†…å®¹
```bash
curl -X POST "http://localhost:3001/messages?sessionId={sessionId}" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":5,"method":"resources/read","params":{"uri":"image://line_chart_1234567890.png"}}'
```

---

## âš™ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®æ ¼å¼**: ä¸¥æ ¼æŒ‰ç…§æ¯ä¸ªå·¥å…·çš„å‚æ•°æ ¼å¼ä¼ å…¥æ•°æ®
2. **æ•°å€¼ç±»å‹**: æ‰€æœ‰æ•°å€¼å­—æ®µå¿…é¡»æ˜¯æ•°å­—ç±»å‹ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²
3. **å¿…éœ€å­—æ®µ**: ç¡®ä¿æä¾›æ‰€æœ‰æ ‡è®°ä¸º"å¿…éœ€"çš„å‚æ•°
4. **æ–‡ä»¶å‘½å**: ç”Ÿæˆçš„å›¾ç‰‡æ–‡ä»¶åæ ¼å¼ä¸º `{å›¾è¡¨ç±»å‹}_chart_{æ—¶é—´æˆ³}.png`
5. **é”™è¯¯å¤„ç†**: å¦‚æœæ¸²æŸ“å¤±è´¥ï¼Œä¼šè¿”å›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

---

**æ›´æ–°æ—¶é—´**: 2025-01-25  
**ç‰ˆæœ¬**: 2.0.0 